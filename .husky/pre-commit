#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Get list of staged files
STAGED_FILES=$(git diff --cached --name-only)

# Only run validation if YAML files in data/ directory were changed
if echo "$STAGED_FILES" | grep -qE "^data/.*\.(yml|yaml)$"; then
  echo "ðŸ“‹ Data YAML files changed - running validation..."
  npm test
else
  echo "âœ… No data YAML files changed - skipping validation"
fi
